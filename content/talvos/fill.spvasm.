; SPIR-V
; Version: 1.3
OpCapability Shader
OpMemoryModel Logical GLSL450
OpEntryPoint GLCompute %fill_fn "FILL" %gl_GlobalInvocationID

  ; metadata (& pseudo-linker)
OpDecorate %gl_GlobalInvocationID BuiltIn GlobalInvocationId
OpDecorate %_arr_uint32_t ArrayStride 4
OpDecorate %buf DescriptorSet 0
OpDecorate %buf Binding 0

  ; types
%uint32_t = OpTypeInt 32 0
  %void_t = OpTypeVoid
%gbl_id_t = OpTypeVector %uint32_t 3

%_arr_uint32_t = OpTypeRuntimeArray %uint32_t
		%void_fn_t = OpTypeFunction %void_t

%_ptr_StorageBuffer_uint32_t = OpTypePointer StorageBuffer %uint32_t
%_arr_StorageBuffer_uint32_t = OpTypePointer StorageBuffer %_arr_uint32_t
        %_ptr_Input_gbl_id_t = OpTypePointer Input %gbl_id_t
        %_ptr_Input_uint32_t = OpTypePointer Input %uint32_t


  ; global arguments & constants
              %const_0 = OpConstant %uint32_t 0
                 %FILL = OpConstant %uint32_t 1
%gl_GlobalInvocationID = OpVariable %_ptr_Input_gbl_id_t Input
                  %buf = OpVariable %_arr_StorageBuffer_uint32_t StorageBuffer

  ; FILL entry point
 %fill_fn = OpFunction %void_t None %void_fn_t
       %1 = OpLabel
       %2 = OpAccessChain %_ptr_Input_uint32_t %gl_GlobalInvocationID %const_0
       %3 = OpLoad %uint32_t %2
       %4 = OpAccessChain %_ptr_StorageBuffer_uint32_t %buf %3
            OpStore %4 %FILL
            OpReturn
            OpFunctionEnd
